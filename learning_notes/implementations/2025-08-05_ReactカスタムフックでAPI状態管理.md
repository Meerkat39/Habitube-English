# React ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã§ API å–å¾—ãƒ»çŠ¶æ…‹ç®¡ç†ã‚’å…±é€šåŒ–ã™ã‚‹

## ğŸ“… å­¦ç¿’æ—¥æ™‚

2025 å¹´ 8 æœˆ 5 æ—¥

## âœ… çµè«–

React ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆuseWatchedVideoListï¼‰ã‚’ä½¿ã†ã“ã¨ã§ã€API å–å¾—ãƒ»ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ‡ãƒ¼ã‚¿çŠ¶æ…‹ã®ç®¡ç†ã‚’ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰åˆ‡ã‚Šé›¢ã—ã€å†åˆ©ç”¨æ€§ãƒ»å¯èª­æ€§ãƒ»ä¿å®ˆæ€§ã‚’é«˜ã‚ã‚‰ã‚Œã‚‹ã€‚

## ğŸ§  è©³ç´°

### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®å½¹å‰²

- API å–å¾—ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆfetchã€çŠ¶æ…‹ç®¡ç†ï¼‰ã‚’éš è”½ã—ã€UI å´ã§ã¯ã€ŒçŠ¶æ…‹ï¼ˆdata, loading, errorï¼‰ã€ã®ã¿ã‚’æ‰±ãˆã‚‹
- å–å¾—ä¸­ã¯ loadingã€å¤±æ•—æ™‚ã¯ errorã€æˆåŠŸæ™‚ã¯ data ã§ UI åˆ¶å¾¡ãŒå¯èƒ½
- useEffect, useState ãªã©ã® React ãƒ•ãƒƒã‚¯ã‚’çµ„ã¿åˆã‚ã›ã¦å®Ÿè£…

### å®Ÿè£…ä¾‹

```typescript
export function useWatchedVideoList(month: string) {
  const [data, setData] = useState<WatchedVideoListResponse | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    setLoading(true);
    setError(null);
    fetchWatchedVideoList(month)
      .then(setData)
      .catch((e) => setError(e.message))
      .finally(() => setLoading(false));
  }, [month]);

  return { data, loading, error };
}
```

### UI å´ã§ã®ä½¿ã„æ–¹

```typescript
const { data, loading, error } = useWatchedVideoList(month);
if (loading) return <Spinner />;
if (error) return <ErrorMessage msg={error} />;
return <Calendar data={data} />;
```

### ãƒã‚¤ãƒ³ãƒˆ

- UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ŒçŠ¶æ…‹ã€ã ã‘ã‚’æ„è­˜ã™ã‚Œã°ã‚ˆãã€API å–å¾—ã®è©³ç´°ã¯æ°—ã«ã—ãªãã¦ã‚ˆã„
- è¤‡æ•°ç®‡æ‰€ã§åŒã˜ API å–å¾—ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä½¿ã„å›ã›ã‚‹
- useEffect ä»¥å¤–ã«ã‚‚ useState, useRef, useCallback ç­‰ã‚’çµ„ã¿åˆã‚ã›ã¦é«˜åº¦ãªã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ãŒä½œã‚Œã‚‹

---

#### åˆ†é¡: implementationsï¼ˆå…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰å®Ÿè£…ãƒ»API è¨­è¨ˆï¼‰

ãƒ•ã‚¡ã‚¤ãƒ«å: `2025-08-05_Reactã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã§APIçŠ¶æ…‹ç®¡ç†.md`
